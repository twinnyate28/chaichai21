<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="title" content="Happy Birthday!">
  <title>Chai's 21st</title>
  <link rel="stylesheet" href="style.css">
  <link rel="stylesheet"
    href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css"
    crossorigin="anonymous" />
  <link
    href="https://fonts.googleapis.com/css2?family=Dancing+Script:wght@500;700&family=Poppins:wght@400;600&display=swap"
    rel="stylesheet">
</head>

<body>

  <!-- AUDIO -->
  <audio id="birthdaySong" loop>
    <source src="happy-birthday.mp3" type="audio/mpeg">
  </audio>

  <audio id="letterSong" loop>
    <source src="forever-in-me-instrumental.mp3" type="audio/mpeg">
  </audio>

  <div id="wrapper">

    <!-- FLAGS -->
    <div class="flag__birthday">
      <img src="./images/1.png" width="350" class="flag__left">
      <img src="./images/1.png" width="350" class="flag__right">
    </div>

    <!-- CONTENT -->
    <div class="content">
      <div class="left">
        <div class="title">
          <h1 class="happy">Happy</h1>
          <h1 class="birthday">Birthday</h1>
        </div>
        <div class="date__of__birth"><span>January 7, 2026</span></div>
        <div class="btn">
          <button id="btn__letter">Click Here <i class="fa-regular fa-envelope"></i></button>
        </div>
      </div>

      <div class="right">
        <div class="box__account">
          <div class="image">
            <img src="./images/unnamed.png">
          </div>
          <div class="name">
            <i class="fa-solid fa-heart"></i>
            <span>Charlyn</span>
            <i class="fa-solid fa-heart"></i>
          </div>
        </div>
      </div>
    </div>

    <!-- SIMPLE LETTER MODAL -->
    <div class="boxMail">
      <i class="fa-solid fa-xmark"></i>
      <div class="boxMail-container">
        <p>
          Dear Angel, how are you? :)

          I made this little message to remind you how special you are. After all, this is your day. May the things that bother your tiny fragile heart
          be at peace when you think about how loved you truly are. Remember when you decided to ...

          Happy Birthday! ðŸŽ‰
        </p>
      </div>
    </div>

  </div>

  <script>
    const birthdaySong = document.getElementById("birthdaySong");
    const letterSong = document.getElementById("letterSong");
    const openBtn = document.getElementById("btn__letter");
    const boxMail = document.querySelector(".boxMail");
    const closeBtn = document.querySelector(".fa-xmark");

    let started = false;

    // play birthday song once on first interaction
    document.body.addEventListener("click", () => {
      if (!started) {
        birthdaySong.volume = 0.4;
        birthdaySong.play().catch(() => {});
        started = true;
      }
    }, { once: true });

    // OPEN LETTER
    openBtn.onclick = () => {
      birthdaySong.pause();
      birthdaySong.currentTime = 0;

      letterSong.volume = 0.4;
      letterSong.play().catch(() => {});

      boxMail.classList.add("active");
      document.body.style.overflow = "hidden";
    };

    // CLOSE LETTER
    closeBtn.onclick = () => {
      boxMail.classList.remove("active");
      document.body.style.overflow = "";

      letterSong.pause();
      letterSong.currentTime = 0;

      birthdaySong.play().catch(() => {});
    };
  </script>

</body>
</html>
