<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="title" content="Happy Birthday | Twinnyate">
    <meta name="github" content="https://github.com/twinnyate">
    <title>Charlyn's 21st</title>

    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet"
        href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    <link
        href="https://fonts.googleapis.com/css2?family=Dancing+Script:wght@500;700&family=Poppins:wght@400;600&display=swap"
        rel="stylesheet">

    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
</head>

<body>

    <!-- ðŸŽµ AUDIO FILES -->
    <audio id="birthdaySong" loop>
        <source src="happy-birthday.mp3" type="audio/mpeg">
    </audio>

    <audio id="letterSong" loop>
        <source src="forever-in-me-instrumental.mp3" type="audio/mpeg">
    </audio>

    <div id="wrapper">

        <div class="flag__birthday">
            <img src="./images/1.png" width="350" class="flag__left">
            <img src="./images/1.png" width="350" class="flag__right">
        </div>

        <div class="content">
            <div class="left">
                <div class="title">
                    <h1 class="happy">
                        <span style="--t:4s;">H</span>
                        <span style="--t:4.2s;">a</span>
                        <span style="--t:4.4s;">p</span>
                        <span style="--t:4.6s;">p</span>
                        <span style="--t:4.8s;">y</span>
                    </h1>

                    <h1 class="birthday">
                        <span style="--t:5s;">B</span>
                        <span style="--t:5.2s;">i</span>
                        <span style="--t:5.4s;">r</span>
                        <span style="--t:5.6s;">t</span>
                        <span style="--t:5.8s;">h</span>
                        <span style="--t:6s;">d</span>
                        <span style="--t:6.2s;">a</span>
                        <span style="--t:6.4s;">y</span>
                    </h1>

                    <div class="hat">
                        <img src="./images/hat.png" width="130">
                    </div>
                </div>

                <div class="date__of__birth">
                    <span></span>
                </div>

                <div class="btn">
                    <button id="btn__letter">
                        <div class="mail">
                            Cha &lt;3
                            <i class="fa-regular fa-envelope"></i>
                        </div>
                    </button>
                </div>
            </div>

            <div class="right">
                <div class="box__account">
                    <div class="image">
                        <img src="./images/unnamed.png">
                    </div>

                    <div class="name">
                        <i class="fa-solid fa-heart"></i>
                        <span>Dear Charlyn,</span>
                        <i class="fa-solid fa-heart"></i>
                    </div>

                    <div class="balloon_one">
                        <img src="./images/balloon1.png" width="100">
                    </div>

                    <div class="balloon_two">
                        <img src="./images/balloon2.png" width="100">
                    </div>
                </div>
            </div>
        </div>

        <div class="boxMail">
            <i class="fa-solid fa-xmark"></i>
            <div class="boxMail-container">
                <h2>Happy Birthday ðŸ’–</h2>
            </div>
        </div>
    </div>

    <!-- ================= JAVASCRIPT ================= -->
    <script>
        /* ===== AUDIO SETUP (ADDED) ===== */
        const birthdaySong = document.getElementById("birthdaySong");
        const letterSong = document.getElementById("letterSong");
        let birthdayStarted = false;

        /* ===== PLAY HAPPY BIRTHDAY ON FIRST CLICK ===== */
        document.body.addEventListener("click", function () {
            if (!birthdayStarted) {
                birthdaySong.volume = 0.4;
                birthdaySong.play().catch(() => { });
                birthdayStarted = true;
            }
        }, { once: true });

        /* ===== ORIGINAL SCRIPT (UNCHANGED, ONLY ADDED LINES INSIDE) ===== */

        let datetxt = "January 7, 2026";
        let datatxtletter = "My love. You are a very special girl...";
        let charArrDate = datetxt.split('');
        let currentIndex = 0;
        let date__of__birth = document.querySelector(".date__of__birth span");

        setTimeout(function () {
            let timeDatetxt = setInterval(function () {
                if (currentIndex < charArrDate.length) {
                    date__of__birth.textContent += charArrDate[currentIndex++];
                } else {
                    clearInterval(timeDatetxt);
                }
            }, 100);
        }, 12000);

        $("#btn__letter").on("click", function () {

            /* ===== SWITCH MUSIC (ADDED) ===== */
            birthdaySong.pause();
            birthdaySong.currentTime = 0;

            letterSong.volume = 0.4;
            letterSong.play().catch(() => { });

            $(".boxMail").addClass("active");
        });

        document.querySelector(".fa-xmark").addEventListener("click", function () {
            $(".boxMail").removeClass("active");
        });
    </script>

</body>
</html>
